include 'win32ax.inc'
entry main

proc main
locals
    name  db 'a.txt',0
    temp  dd ?
endl
    invoke LocalAlloc, LPTR, MAX_PATH
    mov [temp], eax
    invoke GetTempPath, MAX_PATH, [temp]
    invoke lstrcat,[temp],addr name
    invoke lstrcpy,addr name,[temp]
    invoke URLDownloadToFile,NULL, 'https://raw.githubusercontent.com/lucianIrsigler/nasm-x86-syntax-highlighting/master/package.json' ,'downloaded.txt',NULL,NULL
    invoke ShellExecute,0,0,'downloaded.txt',0,0,SW_SHOW
    invoke ExitProcess,0
endp

data import

 library kernel32,'KERNEL32.DLL',\
         shell32, 'SHELL32.DLL',\
         urlmon32, 'URLMON.DLL'

 include 'API\kernel32.inc'
 include 'API\shell32.inc'
 import urlmon32, URLDownloadToFile, 'URLDownloadToFileA'

end data